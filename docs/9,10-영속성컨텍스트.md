JPA를 이해하는데 가장 중요한 용어임 -> **엔티티를 영구 저장하는 환경** 이라는 뜻

EntityManager.persist(entity); -> 디비에 엔티티를 저장한다는말이 아니라 영속성컨텍스트에 엔티티를 저장한다는 코드임

# 엔티티의 생명주기

```mermaid
stateDiagram-v2
    direction LR

    %% 상태 정의
    state "비영속 (New/Transient)" as New
    state "영속 (Managed)" as Managed
    state "준영속 (Detached)" as Detached
    state "삭제 (Removed)" as Removed
    
    %% 시작 및 종료
    [*] --> New : 객체 생성 (new)
    Removed --> [*] : DB 삭제 (flush/commit)

    %% 전이 과정
    New --> Managed : persist()
    
    Managed --> Detached : detach(), clear(), close()
    Detached --> Managed : merge()
    
    Managed --> Removed : remove()
    
    %% 설명 노트
    note right of Managed
        영속성 컨텍스트가 관리.
        Dirty Checking, 
        1차 캐시 사용 가능.
    end note
```

```
//객체를 생성한 상태(비영속)
Member member = new member();
member.setId("member1");
member.serUsername("회원1");

EntityManager em = emf.createEntityManager();
em.getTransaction().begin();

//객체를 저장한 상태(영속)
em.persist(meeber);
```
